<!DOCTYPE aspectran PUBLIC "-//ASPECTRAN//DTD Aspectran Configuration 5.0//EN"
                           "http://aspectran.github.io/dtd/aspectran-5.dtd">

<aspectran>

    <description>
        An Aspectran configuration for printing request parameters and attributes directly to the console.
    </description>

    <translet name="echo">
        <description style="apon">
            |
            |   It accepts parameters and print them to the console.
            |
        </description>
        <parameters>
            <item name="input-1" mandatory="false">${prefix} - 1</item>
            <item name="input-2" mandatory="true">${prefix} - 2</item>
            <item name="input-3">${prefix} - 3</item>
        </parameters>
        <transform type="transform/text" contentType="text/plain">
            <template engine="token" style="apon">
                |----------------------------------------------------------
                |The parameters you entered are:
                |   input-1: ${input-1}
                |   input-2: ${input-2}
                |   input-3: ${input-3}
                |----------------------------------------------------------
                |Retrieve from the Activity data map:
                |   input-1: @{data^input-1}
                |   input-2: @{data^input-2}
                |   input-3: @{data^input-3}
                |----------------------------------------------------------
            </template>
        </transform>
    </translet>

    <translet name="echo2">
        <description style="apon">
            |
            |   It accepts parameters and print them to the console.
            |
        </description>
        <parameters>
            <item name="input-1">PARA ${input-1:12345}</item>
            <item name="input-2">PARA ${input-2:67890}</item>
            <item name="input-3">PARA ${input-3-1} and ${input-3-2}</item>
        </parameters>
        <attributes>
            <item name="input-4">ATTR ${input-4}</item>
        </attributes>
        <transform type="transform/text" contentType="text/plain">
            <template engine="token" style="apon">
                |----------------------------------------------------------
                |The input parameters and attributes are as follows:
                |   input-1: ${input-1} - This is a parameter.
                |   input-2: ${input-2} - This is a parameter.
                |   input-3: ${input-3} - This is a parameter.
                |   input-4: @{input-4} - This is an attribute.
                |----------------------------------------------------------
            </template>
        </transform>
    </translet>

    <translet name="login">
        <description style="apon">
            |
            |   It accepts parameters used for login and print them to the console.
            |
        </description>
        <parameters>
            <item name="id" mandatory="true"/>
            <item name="email" mandatory="true">${id}@${domain}</item>
            <item name="password" security="true" defaultValue="(none)"/>
        </parameters>
        <attributes>
            <item name="attr1" mandatory="true">${id}@${domain}</item>
            <item name="attr2" mandatory="true" security="true">${password}</item>
        </attributes>
        <transform type="transform/text">
            <template style="apon">
                |-------------------------------------------------------------------------
                |You have entered the following parameters for login:
                |   email: ${email}
                |   password: ${password}
                |The attributes you entered are:
                |   attr1: @{attr1}
                |   attr2: @{attr2}
                |-------------------------------------------------------------------------
            </template>
        </transform>
    </translet>

    <translet name="chpw">
        <description style="apon">
            |
            |   It accepts parameters for changing the password and print them to the console.
            |
        </description>
        <parameters>
            <item name="email">${emailId}@${emailDomain}</item>
            <item name="password" security="true"/>
            <item name="confirmPassword" security="true"/>
        </parameters>
        <transform type="transform/text">
            <template style="apon">
                |------------------------------------------------------------------------------------
                |You have entered the following parameters for changing the password:
                |   email: ${email}
                |   password: ${password}
                |   confirm password: ${confirmPassword}
                |------------------------------------------------------------------------------------
            </template>
        </transform>
    </translet>

    <bean id="sampleResources" class="com.aspectran.demo.examples.SampleResources"/>

    <translet name="getSampleResourceFile">
        <transform type="transform/text">
            <action id="sampleResourceFile" bean="sampleResources" method="getSampleResourceFile"/>
        </transform>
    </translet>

    <translet name="printSampleResource">
        <transform type="transform/text">
            <template resource="sample_resource.txt"/>
        </transform>
    </translet>

</aspectran>