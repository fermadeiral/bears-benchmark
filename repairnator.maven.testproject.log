[INFO] Scanning for projects...
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building dataverse 4.9.4
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-dependency-plugin:2.6:copy (default) @ dataverse ---
[INFO] 
[INFO] --- jacoco-maven-plugin:0.7.5.201505241946:prepare-agent (jacoco-initialize) @ dataverse ---
[INFO] argLine set to -javaagent:/root/./workspace/IQSS/dataverse/444797621/.m2/org/jacoco/org.jacoco.agent/0.7.5.201505241946/org.jacoco.agent-0.7.5.201505241946-runtime.jar=destfile=/root/workspace/IQSS/dataverse/444797621/target/jacoco.exec -Duser.timezone=UTC -Dfile.encoding=UTF-8 -Duser.language=en -Duser.region=US
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ dataverse ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 19 resources
[INFO] Copying 3 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ dataverse ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 718 source files to /root/workspace/IQSS/dataverse/444797621/target/classes
[WARNING] /root/workspace/IQSS/dataverse/444797621/src/main/java/edu/harvard/iq/dataverse/Dataset.java: Some input files use or override a deprecated API.
[WARNING] /root/workspace/IQSS/dataverse/444797621/src/main/java/edu/harvard/iq/dataverse/Dataset.java: Recompile with -Xlint:deprecation for details.
[WARNING] /root/workspace/IQSS/dataverse/444797621/src/main/java/edu/harvard/iq/dataverse/DatasetField.java: Some input files use unchecked or unsafe operations.
[WARNING] /root/workspace/IQSS/dataverse/444797621/src/main/java/edu/harvard/iq/dataverse/DatasetField.java: Recompile with -Xlint:unchecked for details.
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ dataverse ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 17 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ dataverse ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 153 source files to /root/workspace/IQSS/dataverse/444797621/target/test-classes
[WARNING] /root/workspace/IQSS/dataverse/444797621/src/test/java/edu/harvard/iq/dataverse/api/HarvestingServerIT.java: Some input files use or override a deprecated API.
[WARNING] /root/workspace/IQSS/dataverse/444797621/src/test/java/edu/harvard/iq/dataverse/api/HarvestingServerIT.java: Recompile with -Xlint:deprecation for details.
[WARNING] /root/workspace/IQSS/dataverse/444797621/src/test/java/edu/harvard/iq/dataverse/mocks/MocksFactory.java: Some input files use unchecked or unsafe operations.
[WARNING] /root/workspace/IQSS/dataverse/444797621/src/test/java/edu/harvard/iq/dataverse/mocks/MocksFactory.java: Recompile with -Xlint:unchecked for details.
[INFO] 
[INFO] --- maven-surefire-plugin:2.22.0:test (default-test) @ dataverse ---
[INFO] 
[INFO] -------------------------------------------------------
[INFO]  T E S T S
[INFO] -------------------------------------------------------
[INFO] Running edu.harvard.iq.dataverse.dataaccess.S3AccessIOTest
[INFO] Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 2.007 s - in edu.harvard.iq.dataverse.dataaccess.S3AccessIOTest
[INFO] Running PasswordResetDataTest
newTokenNotExpired
[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.016 s - in PasswordResetDataTest
[INFO] Running UserNameValidatorTest
[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 s - in UserNameValidatorTest
[INFO] Running SchemaDotOrgExporterTest
isHarvestable
getDisplayName
getXMLNameSpace
exportDataset
schema.org JSON-LD: {
  "@context": "http://schema.org",
  "@type": "Dataset",
  "@id": "https://doi.org/myAuthority/myIdentifier",
  "identifier": "https://doi.org/myAuthority/myIdentifier",
  "url": "https://doi.org/myAuthority/myIdentifier",
  "name": "Darwin\u0027s Finches",
  "creator": [
    {
      "name": "Finch, Fiona",
      "affiliation": "Birds Inc.",
      "@id": "https://orcid.org/0000-0002-1825-0097",
      "identifier": "https://orcid.org/0000-0002-1825-0097"
    }
  ],
  "author": [
    {
      "name": "Finch, Fiona",
      "affiliation": "Birds Inc.",
      "@id": "https://orcid.org/0000-0002-1825-0097",
      "identifier": "https://orcid.org/0000-0002-1825-0097"
    }
  ],
  "dateModified": "1955-11-05",
  "version": "1",
  "description": [
    "Darwin\u0027s finches (also known as the Galápagos finches) are a group of about fifteen species of passerine birds.",
    "Bird is the word."
  ],
  "keywords": [
    "Medicine, Health and Life Sciences",
    "tcTerm1",
    "KeywordTerm1",
    "KeywordTerm2",
    "keywords, with, commas"
  ],
  "citation": [
    {
      "@type": "CreativeWork",
      "text": "Finch, Fiona 2018. \"The Finches.\" American Ornithological Journal 60 (4): 990-1005.",
      "@id": "https://doi.org/10.5072/FK2/RV16HK",
      "identifier": "https://doi.org/10.5072/FK2/RV16HK"
    }
  ],
  "schemaVersion": "https://schema.org/version/3.3",
  "includedInDataCatalog": {
    "@type": "DataCatalog",
    "name": "LibraScholar",
    "url": "https://librascholar.org"
  },
  "provider": {
    "@type": "Organization",
    "name": "LibraScholar"
  },
  "funder": [
    {
      "@type": "Organization",
      "name": "National Science Foundation"
    },
    {
      "@type": "Organization",
      "name": "National Institutes of Health"
    }
  ],
  "spatialCoverage": [
    "Columbus, Ohio, United States, North America",
    "Wisconsin, United States"
  ],
  "distribution": [
    {
      "@type": "DataDownload",
      "name": "README.md",
      "fileFormat": "text/plain",
      "contentSize": 1234,
      "description": "README file.",
      "identifier": "https://doi.org/myAuthority/myIdentifierFile1",
      "contentUrl": "https://librascholar.org/api/access/datafile/42"
    }
  ]
}
isXMLFormat
getXMLSchemaVersion
getProviderName
getXMLSchemaLocation
isAvailableToUsers
setParam
[INFO] Tests run: 10, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.779 s - in SchemaDotOrgExporterTest
[INFO] Running DDIExporterTest
testCitation
citation: Finch, Fiona, 2018, "Darwin's Finches", DRAFT VERSION
exportDataset
out: 
<?xml version="1.0" encoding="UTF-8"?>
<codeBook xmlns="ddi:codebook:2_5" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="ddi:codebook:2_5 http://www.ddialliance.org/Specification/DDI-Codebook/2.5/XMLSchema/codebook.xsd" version="2.5">
  <docDscr>
    <citation>
      <titlStmt>
        <titl>Darwin's Finches</titl>
        <IDNo>null:null/null</IDNo>
      </titlStmt>
      <distStmt/>
      <verStmt source="DVN">
        <version date="2016-09-29" type="RELEASED">1</version>
      </verStmt>
      <biblCit>Finch, Fiona, 2016, "Darwin's Finches", https://doi.org/10.5072/FK2/G2VPE7, Root Dataverse, V1</biblCit>
    </citation>
  </docDscr>
  <stdyDscr>
    <citation>
      <titlStmt>
        <titl>Darwin's Finches</titl>
        <IDNo>null:null/null</IDNo>
      </titlStmt>
      <rspStmt>
        <AuthEnty affiliation="Birds Inc.">Finch, Fiona</AuthEnty>
      </rspStmt>
      <prodStmt/>
      <distStmt/>
    </citation>
    <stdyInfo>
      <subject>
        <keyword>Medicine, Health and Life Sciences</keyword>
      </subject>
      <abstract>Darwin's finches (also known as the Galápagos finches) are a group of about fifteen species of passerine birds.</abstract>
      <sumDscr/>
      <contact>Finch, Fiona</contact>
    </stdyInfo>
    <method>
      <dataColl/>
      <anlyInfo/>
    </method>
  </stdyDscr>
</codeBook>

<?xml version="1.0" encoding="UTF-8"?>
<codeBook xmlns="ddi:codebook:2_5" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="ddi:codebook:2_5 http://www.ddialliance.org/Specification/DDI-Codebook/2.5/XMLSchema/codebook.xsd" version="2.5">
  <docDscr>
    <citation>
      <titlStmt>
        <titl>Darwin's Finches</titl>
        <IDNo>null:null/null</IDNo>
      </titlStmt>
      <distStmt/>
      <verStmt source="DVN">
        <version date="2016-09-29" type="RELEASED">1</version>
      </verStmt>
      <biblCit>Finch, Fiona, 2016, "Darwin's Finches", https://doi.org/10.5072/FK2/G2VPE7, Root Dataverse, V1</biblCit>
    </citation>
  </docDscr>
  <stdyDscr>
    <citation>
      <titlStmt>
        <titl>Darwin's Finches</titl>
        <IDNo>null:null/null</IDNo>
      </titlStmt>
      <rspStmt>
        <AuthEnty affiliation="Birds Inc.">Finch, Fiona</AuthEnty>
      </rspStmt>
      <prodStmt/>
      <distStmt/>
    </citation>
    <stdyInfo>
      <subject>
        <keyword>Medicine, Health and Life Sciences</keyword>
      </subject>
      <abstract>Darwin's finches (also known as the Galápagos finches) are a group of about fifteen species of passerine birds.</abstract>
      <sumDscr/>
      <contact email="finch@mailinator.com">Finch, Fiona</contact>
    </stdyInfo>
    <method>
      <dataColl/>
      <anlyInfo/>
    </method>
  </stdyDscr>
</codeBook>

[INFO] Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.743 s - in DDIExporterTest
[INFO] Running DublinCoreExportUtilTest
[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.105 s - in DublinCoreExportUtilTest
[INFO] Running DdiExportUtilTest
[INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.108 s - in DdiExportUtilTest
[INFO] Running GlobalIdTest
testUnknownProtocol
testValidDOI
testBadIdentifierOnePart
testBadIdentifierTwoParts
testInject (weak test)
testValidDOI
[INFO] Tests run: 9, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.01 s - in GlobalIdTest
[INFO] Running DatasetFieldTypeTest
testIsEscapeOutputText
isSanitizeHtml
[INFO] Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 s - in DatasetFieldTypeTest
[INFO] Running PrivateUrlUtilTest
[INFO] Tests run: 26, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.018 s - in PrivateUrlUtilTest
[INFO] Running PasswordValidatorTest
[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.121 s - in PasswordValidatorTest
[INFO] Running PasswordValidatorUtilTest
getPasswordRequirements
---Show all
Your password must contain:
<ul>
  <li>At least 6 characters (passwords of at least 21 characters are exempt from all other requirements)</li>
  <li>At least 1 character from each of the following types: letter, numeral</li>
</ul>It may not include:
<ul>
  <li>More than 4 numbers in a row</li>
  <li>Dictionary words</li>
</ul>
---Hide all
Your password must contain:
<ul>
  <li>At least 6 characters </li>
  <li>At least 1 character from each of the following types: letter, numeral</li>
</ul>It may not include:
<ul>
  <li>More than 0 numbers in a row</li>
</ul>
---Show may not include sequence
Your password must contain:
<ul>
  <li>At least 6 characters (passwords of at least 21 characters are exempt from all other requirements)</li>
  <li>At least 1 character from each of the following types: letter, numeral</li>
</ul>It may not include:
<ul>
  <li>More than 4 numbers in a row</li>
</ul>
---Show may not dictionary
Your password must contain:
<ul>
  <li>At least 6 characters (passwords of at least 21 characters are exempt from all other requirements)</li>
  <li>At least 1 character from each of the following types: letter, numeral</li>
</ul>It may not include:
<ul>
  <li>More than 0 numbers in a row</li>
  <li>Dictionary words</li>
</ul>
Uppercase valid chars: ABCDEFGHIJKLMNOPQRSTUVWXYZ
Lowercase valid chars: abcdefghijklmnopqrstuvwxyz
Special valid chars: !"#$%&'()*+,-./:;<=>?@[\]^_`{|}`¡¢£¤¥¦§¨©ª«¬­®¯°±²³´µ¶·¸¹º»¼½¾¿×÷–—―‗‘’‚‛“”„†‡•…‰′″‹›‼‾⁄⁊₠₡₢₣₤₥₦₧₨₩₪₫€₭₮₯₰₱₲₳₴₵₶₷₸₹₺₻₼₽₾
Character rules string for default: 
At least 1 character from each of the following types: letter, numeral
Character rules string for 'UpperCase:1,LowerCase:1,Digit:1,Special:1': 
At least 1 character from 2 of the following types: uppercase, lowercase, numeral, special
Character rules string for 'UpperCase:1,LowerCase:1,Digit:1,Special:1': 
At least 1 character from each of the following types: uppercase, lowercase, numeral, special
Character rules string for 'UpperCase:1,LowerCase:1,Digit:1,Special:1
At least 1 character from each of the following types: uppercase, lowercase, numeral, special
Character rules string for 'UpperCase:1,LowerCase:1,Digit:1,Special:1
At least 1 character from 2 of the following types: uppercase, lowercase, numeral, special
Character rules string for 'Digit:1': 
At least 1 character from each of the following types: numeral
Character rules string for 'Digit:2': 
Fufill 2: At least 2 numeral characters
Character rules string for 'LowerCase:1,Digit:2,Special:3': 
Fufill 2: At least 1 lowercase characters, 2 numeral characters, 3 special characters
Character rules string for 'UpperCase:1,LowerCase:1,Digit:1,Special:1,Alphabetical:1', letter is mentioned even though that configuration is discouraged: 
At least 1 character from 2 of the following types: uppercase, lowercase, letter, numeral, special
[INFO] Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.028 s - in PasswordValidatorUtilTest
[INFO] Running DatasetUtilTest
false
testGetThumbnailRestricted
[INFO] Tests run: 8, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.017 s - in DatasetUtilTest
[INFO] Running SolrQueryFormatterTest
-------------------------------
Set group size to 10--it's usually, 1,000
-------------------------------
-------------------------------
List of 10 ids from 1, 10
-------------------------------
-------------------------------
query clause: (entityId:(1 2 3 4 5 6 7 8 9 10))
-------------------------------
-------------------------------
List of 11 ids from 1, 11
-------------------------------
-------------------------------
query clause: (entityId:(1 2 3 4 5 6 7 8 9 10)) OR (entityId:(11))
-------------------------------
-------------------------------
List of 21 ids from 1, 21
-------------------------------
-------------------------------
query clause: (entityId:(1 2 3 4 5 6 7 8 9 10)) OR (entityId:(11 12 13 14 15 16 17 18 19 20)) OR (entityId:(21))
-------------------------------
-------------------------------
List of ids is empty
-------------------------------
-------------------------------
query clause: null
-------------------------------
-------------------------------
List of ids from 1 to 11
-------------------------------
-------------------------------
Set to groups of 3
-------------------------------
-------------------------------
query clause: (parentId:(1 2 3)) OR (parentId:(4 5 6)) OR (parentId:(7 8 9)) OR (parentId:(10 11))
-------------------------------
[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.017 s - in SolrQueryFormatterTest
[INFO] Running PagerTest
getNumResults
-------------------------------
page list: null
-------------------------------
getNumResults
-------------------------------
Test: 102 results, 10 per page, page 1
-------------------------------
page list: [1, 2, 3, 4, 5]
-------------------------------
Test: 102 results, 10 per page, page 6
-------------------------------
page list: [4, 5, 6, 7, 8]
-------------------------------
Test: 100 results, 10 per page, page 9
-------------------------------
page list: [6, 7, 8, 9, 10]
-------------------------------
Test: 100 results, 10 per page, page 10
-------------------------------
page list: [6, 7, 8, 9, 10]
-------------------------------
Test: 102 results, 10 per page, page 9
-------------------------------
page list: [7, 8, 9, 10, 11]
[INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 s - in PagerTest
[INFO] Running PermissionTest
[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 s - in PermissionTest
[INFO] Running RestrictFileCommandTest
[INFO] Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.003 s - in RestrictFileCommandTest
[INFO] Running RequestRsyncScriptCommandTest
[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.514 s - in RequestRsyncScriptCommandTest
[INFO] Running AbstractDatasetCommandTest
[INFO] Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 s - in AbstractDatasetCommandTest
[INFO] Running UpdatePermissionRootCommandTest
[INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 s - in UpdatePermissionRootCommandTest
[INFO] Running SubmitDatasetForReviewCommandTest
[INFO] Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.053 s - in SubmitDatasetForReviewCommandTest
[INFO] Running CreateDataverseCommandTest
[INFO] Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.011 s - in CreateDataverseCommandTest
[INFO] Running ReturnDatasetToAuthorCommandTest
[INFO] Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.007 s - in ReturnDatasetToAuthorCommandTest
[INFO] Running GetPrivateUrlCommandTest
[INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 s - in GetPrivateUrlCommandTest
[INFO] Running DeletePrivateUrlCommandTest
[INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 s - in DeletePrivateUrlCommandTest
[INFO] Running UpdateDatasetThumbnailCommandTest
[INFO] Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.007 s - in UpdateDatasetThumbnailCommandTest
[INFO] Running CreatePrivateUrlCommandTest
[INFO] Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.002 s - in CreatePrivateUrlCommandTest
[INFO] Running GetLatestPublishedDatasetVersionCommandTest
[INFO] Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.002 s - in GetLatestPublishedDatasetVersionCommandTest
[INFO] Running MoveDataverseCommandTest
testMoveIntoParent
testInvalidMove
testRemoveMetadataBlockWithoutForce
testValidMove
testRemoveTemplate
testKeepGuestbook
testRemoveMetadataBlock
testKeepTemplate
testKeepMetadataBlock
testNotSuperUser
testRemoveGuestbookWithoutForce
testRemoveGuestbook
testMoveIntoSelf
testRemoveTemplateWithoutForce
[INFO] Tests run: 14, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.092 s - in MoveDataverseCommandTest
[INFO] Running CreateRoleCommandTest
[INFO] Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 s - in CreateRoleCommandTest
[INFO] Running MoveDatasetCommandTest
[INFO] Tests run: 7, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.002 s - in MoveDatasetCommandTest
[INFO] Running CreateDatasetVersionCommandTest
[INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.474 s - in CreateDatasetVersionCommandTest
[INFO] Running StorageIOTest
[INFO] Tests run: 24, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.102 s - in StorageIOTest
[INFO] Running SwiftAccessIOTest
[INFO] Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.039 s - in SwiftAccessIOTest
[INFO] Running FileAccessIOTest
[INFO] Tests run: 17, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.042 s - in FileAccessIOTest
[INFO] Running StorageSiteUtilTest
output: {
  "id": 42,
  "hostname": "myHostname",
  "name": "myName",
  "primaryStorage": true,
  "transferProtocols": "rsync"
}
[INFO] Tests run: 8, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.002 s - in StorageSiteUtilTest
[INFO] Running DataCaptureModuleUtilTest
makeUploadRequest
getScriptFromRequestOk
getScriptFromRequestNotFound
generateJsonForUploadRequest
getMessageFromException
rsyncSupportEnabled
[INFO] Tests run: 7, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.671 s - in DataCaptureModuleUtilTest
[INFO] Running DatasetFieldValueValidatorTest
isValid
[INFO] Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.099 s - in DatasetFieldValueValidatorTest
[INFO] Running AbstractApiBeanTest
[INFO] Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.676 s - in AbstractApiBeanTest
[INFO] Running FieldDTOTest
Top
[INFO] Tests run: 9, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.017 s - in FieldDTOTest
[INFO] Running LazyRefTest
[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 s - in LazyRefTest
[INFO] Running IngestableDataCheckerTest
---------------------------
(1) testDTAformat
---------------------------
---------------------------
(1a) Mock a Legit Stata File (application/x-stata)
---------------------------
result 1a: application/x-stata
---------------------------
(1b) File is empty string (non-DTA)
---------------------------
result 1b: null
---------------------------
(1c) File is some random text (non-DTA)
---------------------------
result 1c: null
---------------------------
(1d) Mock a Legit Stata File with STATA_13_HEADER
---------------------------
result 1d: application/x-stata-13
---------------------------
(2) testSAVformat
---------------------------
---------------------------
(2a) Mock a Legit SPSS-SAV File (application/x-spss-sav)
---------------------------
result 2a: application/x-spss-sav
---------------------------
(2b) File is empty string
---------------------------
result 2b: null
---------------------------
(2c) File is non-SAV string
---------------------------
result 2c: null
[INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.01 s - in IngestableDataCheckerTest
[INFO] Running IngestUtilTest
[INFO] Tests run: 10, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.58 s - in IngestUtilTest
[INFO] Running NewDTAFileReaderTest
[WARNING] Tests run: 8, Failures: 0, Errors: 0, Skipped: 4, Time elapsed: 0.097 s - in NewDTAFileReaderTest
[INFO] Running DataReaderTest
[INFO] Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 s - in DataReaderTest
[INFO] Running DTAFileReaderTest
[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.181 s - in DTAFileReaderTest
[INFO] Running CSVFileReaderTest
[INFO] Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.242 s - in CSVFileReaderTest
[INFO] Running ConfirmEmailUtilTest
Friendly expiration timestamp / measurement test
1440 Minutes: 24 hours
60 Minutes: 1 hour
30 Minutes: 30 minutes
90 Minutes: 1.5 hours
2880 minutes: 48 hours
150 minutes: 2.5 hours
165 minutes: 2.75 hours
1 Minute: 1 minute


Grandfathered account timestamp test
Grandfathered Time (y2k): 2000-01-01 00:00:00.0

[INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 s - in ConfirmEmailUtilTest
[INFO] Running SiteMapUtilTest
sitemap: <?xml version="1.0" encoding="UTF-8"?>
<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9" xmlns:xhtml="http://www.w3.org/1999/xhtml">
  <url>
    <loc>https://librascholar.org/dataverse/publishedDv1</loc>
    <lastmod>1955-11-12</lastmod>
  </url>
  <url>
    <loc>https://librascholar.org/dataset.xhtml?persistentId=doi:10.666/FAKE/published1</loc>
    <lastmod>2018-10-23</lastmod>
  </url>
</urlset>

[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.25 s - in SiteMapUtilTest
[INFO] Running FileSizeCheckerTest
[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 s - in FileSizeCheckerTest
[INFO] Running OptionalFileParamsTest
-------------------------------
test_02_jsonDescriptionNumeric
-------------------------------
-------------------------------
jsonData: {"description": 250 }
-------------------------------
-------------------------------
test_10_emptyString
-------------------------------
-------------------------------
jsonData: 
-------------------------------
-------------------------------
test_08_regularInstanceGoodWithNulls
-------------------------------
-------------------------------
jsonData: {"forceReplace": "unused within OptionalFileParams", "oldFileId": "unused within OptionalFileParams", "description": null, "unusedParam1": "haha", "categories": []}
-------------------------------
-------------------------------
test_01_jsonDescription
-------------------------------
-------------------------------
jsonData: {"description": "A new file"}
-------------------------------
-------------------------------
test_07_regularInstanceGood
-------------------------------
-------------------------------
test_05_jsonTabularTagsGood
-------------------------------
-------------------------------
jsonData: {"dataFileTags": ["Survey", "Event", "Panel"], "description": "A new file"}
-------------------------------
-------------------------------
test_08_regularInstanceGoodWithNulls
-------------------------------
-------------------------------
test_03_jsonNull
-------------------------------
-------------------------------
test_06_jsonTabularTagsBad
-------------------------------
-------------------------------
jsonData: {"dataFileTags": ["Survey", "Event", "xPanel"], "description": "A new file"}
-------------------------------
-------------------------------
errMsg: Not a valid Tabular Data Tag: 
-------------------------------
-------------------------------
test_04_jsonTagsGood
-------------------------------
-------------------------------
jsonData: {"description": "A new file", "categories": ["dog", "cat", "mouse"]}
-------------------------------
[INFO] Tests run: 10, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.015 s - in OptionalFileParamsTest
[INFO] Running EMailValidatorTest
[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.368 s - in EMailValidatorTest
[INFO] Running FeedbackUtilTest
feedback: Feedback{fromEmail=personClickingContactOrSupportButton@example.com, toEmail=support@librascholar.edu, subject=LibraScholar contact: nice file, body=There is no contact address on file for this dataset so this message is being sent to the system address.

---

Let's talk!

---

LibraScholar SWAT Team
support@librascholar.edu

Go to file https://dataverse.librascholar.edu/file.xhtml?fileId=42

You received this email because you have been listed as a contact for the dataset. If you believe this was an error, please contact LibraScholar SWAT Team at support@librascholar.edu. To respond directly to the individual who sent the message, simply reply to this email.}
Subject: LibraScholar contact: nice file
Body: There is no contact address on file for this dataset so this message is being sent to the system address.

---

Let's talk!

---

LibraScholar SWAT Team
support@librascholar.edu

Go to file https://dataverse.librascholar.edu/file.xhtml?fileId=42

You received this email because you have been listed as a contact for the dataset. If you believe this was an error, please contact LibraScholar SWAT Team at support@librascholar.edu. To respond directly to the individual who sent the message, simply reply to this email.
From: personClickingContactOrSupportButton@example.com
To: support@librascholar.edu
feedbacks1: [Feedback{fromEmail=personClickingContactOrSupportButton@example.com, toEmail=support@librascholar.edu, subject=LibraScholar support request: I'm clicking the support button., body=LibraScholar SWAT Team,

The following message was sent from personClickingContactOrSupportButton@example.com.

---

Help!

---

Message sent from Support contact form.}]
body:

LibraScholar SWAT Team,

The following message was sent from personClickingContactOrSupportButton@example.com.

---

Help!

---

Message sent from Support contact form.
feedbacks: [Feedback{fromEmail=personClickingContactOrSupportButton@example.com, toEmail=support@librascholar.edu, subject=LibraScholar contact: nice dataset, body=There is no contact address on file for this dataset so this message is being sent to the system address.

---

Let's talk!

---

LibraScholar SWAT Team
support@librascholar.edu

Go to dataset https://dataverse.librascholar.edu/dataset.xhtml?persistentId=doi:10.7910/DVN/TJCLKP

You received this email because you have been listed as a contact for the dataset. If you believe this was an error, please contact LibraScholar SWAT Team at support@librascholar.edu. To respond directly to the individual who sent the message, simply reply to this email.}]
Subject: LibraScholar contact: nice dataset
Body: There is no contact address on file for this dataset so this message is being sent to the system address.

---

Let's talk!

---

LibraScholar SWAT Team
support@librascholar.edu

Go to dataset https://dataverse.librascholar.edu/dataset.xhtml?persistentId=doi:10.7910/DVN/TJCLKP

You received this email because you have been listed as a contact for the dataset. If you believe this was an error, please contact LibraScholar SWAT Team at support@librascholar.edu. To respond directly to the individual who sent the message, simply reply to this email.
From: personClickingContactOrSupportButton@example.com
To: support@librascholar.edu
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
EXPECTED:

There is no contact address on file for this dataset so this message is being sent to the system address.

---

Let's talk!

---

LibraScholar SWAT Team
support@librascholar.edu

Go to dataset https://dataverse.librascholar.edu/dataset.xhtml?persistentId=doi:10.7910/DVN/TJCLKP

You received this email because you have been listed as a contact for the dataset. If you believe this was an error, please contact LibraScholar SWAT Team at support@librascholar.edu. To respond directly to the individual who sent the message, simply reply to this email.
vvvvvvvvvvvvvvvvvvvvvvvvvvvvvv
ACTUAL:

There is no contact address on file for this dataset so this message is being sent to the system address.

---

Let's talk!

---

LibraScholar SWAT Team
support@librascholar.edu

Go to dataset https://dataverse.librascholar.edu/dataset.xhtml?persistentId=doi:10.7910/DVN/TJCLKP

You received this email because you have been listed as a contact for the dataset. If you believe this was an error, please contact LibraScholar SWAT Team at support@librascholar.edu. To respond directly to the individual who sent the message, simply reply to this email.
dsversion: [DatasetVersion id:null]
feedbacks: [Feedback{fromEmail=personClickingContactOrSupportButton@example.com, toEmail=ContactEmail1@mailinator.com, subject=LibraScholar contact: nice dataset, body=Hello Tom Brady,

You have just been sent the following message from personClickingContactOrSupportButton@example.com via the LibraScholar hosted dataset titled "Darwin's Finches" (doi:10.7910/DVN/TJCLKP):

---

Let's talk!

---

LibraScholar SWAT Team
support@librascholar.edu

Go to dataset https://dataverse.librascholar.edu/dataset.xhtml?persistentId=doi:10.7910/DVN/TJCLKP

You received this email because you have been listed as a contact for the dataset. If you believe this was an error, please contact LibraScholar SWAT Team at support@librascholar.edu. To respond directly to the individual who sent the message, simply reply to this email.}, Feedback{fromEmail=personClickingContactOrSupportButton@example.com, toEmail=ContactEmail2@mailinator.com, subject=LibraScholar contact: nice dataset, body=Hello FirstContact2 LastContact2,

You have just been sent the following message from personClickingContactOrSupportButton@example.com via the LibraScholar hosted dataset titled "Darwin's Finches" (doi:10.7910/DVN/TJCLKP):

---

Let's talk!

---

LibraScholar SWAT Team
support@librascholar.edu

Go to dataset https://dataverse.librascholar.edu/dataset.xhtml?persistentId=doi:10.7910/DVN/TJCLKP

You received this email because you have been listed as a contact for the dataset. If you believe this was an error, please contact LibraScholar SWAT Team at support@librascholar.edu. To respond directly to the individual who sent the message, simply reply to this email.}]
Subject: LibraScholar contact: nice dataset
Body: Hello Tom Brady,

You have just been sent the following message from personClickingContactOrSupportButton@example.com via the LibraScholar hosted dataset titled "Darwin's Finches" (doi:10.7910/DVN/TJCLKP):

---

Let's talk!

---

LibraScholar SWAT Team
support@librascholar.edu

Go to dataset https://dataverse.librascholar.edu/dataset.xhtml?persistentId=doi:10.7910/DVN/TJCLKP

You received this email because you have been listed as a contact for the dataset. If you believe this was an error, please contact LibraScholar SWAT Team at support@librascholar.edu. To respond directly to the individual who sent the message, simply reply to this email.
From: personClickingContactOrSupportButton@example.com
To: ContactEmail1@mailinator.com
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
EXPECTED:

Hello Tom Brady,

You have just been sent the following message from personClickingContactOrSupportButton@example.com via the LibraScholar hosted dataset titled "Darwin's Finches" (doi:10.7910/DVN/TJCLKP):

---

Let's talk!

---

LibraScholar SWAT Team
support@librascholar.edu

Go to dataset https://dataverse.librascholar.edu/dataset.xhtml?persistentId=doi:10.7910/DVN/TJCLKP

You received this email because you have been listed as a contact for the dataset. If you believe this was an error, please contact LibraScholar SWAT Team at support@librascholar.edu. To respond directly to the individual who sent the message, simply reply to this email.
vvvvvvvvvvvvvvvvvvvvvvvvvvvvvv
ACTUAL:

Hello Tom Brady,

You have just been sent the following message from personClickingContactOrSupportButton@example.com via the LibraScholar hosted dataset titled "Darwin's Finches" (doi:10.7910/DVN/TJCLKP):

---

Let's talk!

---

LibraScholar SWAT Team
support@librascholar.edu

Go to dataset https://dataverse.librascholar.edu/dataset.xhtml?persistentId=doi:10.7910/DVN/TJCLKP

You received this email because you have been listed as a contact for the dataset. If you believe this was an error, please contact LibraScholar SWAT Team at support@librascholar.edu. To respond directly to the individual who sent the message, simply reply to this email.
dsversion: [DatasetVersion id:null]
feedback: Feedback{fromEmail=personClickingContactOrSupportButton@example.com, toEmail=finch@mailinator.com, subject=LibraScholar contact: nice file, body=Attention Dataset Contact:

You have just been sent the following message from personClickingContactOrSupportButton@example.com via the LibraScholar hosted file named "file.txt" from the dataset titled "Darwin's Finches" (doi:10.7910/DVN/TJCLKP):

---

Let's talk!

---

LibraScholar SWAT Team
support@librascholar.edu

Go to file https://dataverse.librascholar.edu/file.xhtml?fileId=42

You received this email because you have been listed as a contact for the dataset. If you believe this was an error, please contact LibraScholar SWAT Team at support@librascholar.edu. To respond directly to the individual who sent the message, simply reply to this email.}
Subject: LibraScholar contact: nice file
Body: Attention Dataset Contact:

You have just been sent the following message from personClickingContactOrSupportButton@example.com via the LibraScholar hosted file named "file.txt" from the dataset titled "Darwin's Finches" (doi:10.7910/DVN/TJCLKP):

---

Let's talk!

---

LibraScholar SWAT Team
support@librascholar.edu

Go to file https://dataverse.librascholar.edu/file.xhtml?fileId=42

You received this email because you have been listed as a contact for the dataset. If you believe this was an error, please contact LibraScholar SWAT Team at support@librascholar.edu. To respond directly to the individual who sent the message, simply reply to this email.
From: personClickingContactOrSupportButton@example.com
To: finch@mailinator.com
body:

Attention Dataset Contact:

You have just been sent the following message from personClickingContactOrSupportButton@example.com via the LibraScholar hosted file named "file.txt" from the dataset titled "Darwin's Finches" (doi:10.7910/DVN/TJCLKP):

---

Let's talk!

---

LibraScholar SWAT Team
support@librascholar.edu

Go to file https://dataverse.librascholar.edu/file.xhtml?fileId=42

You received this email because you have been listed as a contact for the dataset. If you believe this was an error, please contact LibraScholar SWAT Team at support@librascholar.edu. To respond directly to the individual who sent the message, simply reply to this email.
first gather feedback
body:

You have just been sent the following message from personClickingContactOrSupportButton@example.com via the LibraScholar hosted dataverse named "dvAlias1":

---

Let's talk!

---

LibraScholar SWAT Team
support@librascholar.edu

Go to dataverse https://dataverse.librascholar.edu/dataverse/dvAlias1

You received this email because you have been listed as a contact for the dataverse. If you believe this was an error, please contact LibraScholar SWAT Team at support@librascholar.edu. To respond directly to the individual who sent the message, simply reply to this email.
json: {"fromEmail":"personClickingContactOrSupportButton@example.com","toEmail":"dvContact1@librascholar.edu","subject":"LibraScholar contact: nice dataverse","body":"You have just been sent the following message from personClickingContactOrSupportButton@example.com via the LibraScholar hosted dataverse named \"dvAlias1\":\n\n---\n\nLet's talk!\n\n---\n\nLibraScholar SWAT Team\nsupport@librascholar.edu\n\nGo to dataverse https://dataverse.librascholar.edu/dataverse/dvAlias1\n\nYou received this email because you have been listed as a contact for the dataverse. If you believe this was an error, please contact LibraScholar SWAT Team at support@librascholar.edu. To respond directly to the individual who sent the message, simply reply to this email."}
second gather feedback
feedbacks2: [Feedback{fromEmail=personClickingContactOrSupportButton@example.com, toEmail=support@librascholar.edu, subject=LibraScholar contact: nice dataverse, body=There is no contact address on file for this dataverse so this message is being sent to the system address.

Let's talk!

---

LibraScholar SWAT Team
support@librascholar.edu

Go to dataverse https://dataverse.librascholar.edu/dataverse/dvAlias1

You received this email because you have been listed as a contact for the dataverse. If you believe this was an error, please contact LibraScholar SWAT Team at support@librascholar.edu. To respond directly to the individual who sent the message, simply reply to this email.}]
body:

There is no contact address on file for this dataverse so this message is being sent to the system address.

Let's talk!

---

LibraScholar SWAT Team
support@librascholar.edu

Go to dataverse https://dataverse.librascholar.edu/dataverse/dvAlias1

You received this email because you have been listed as a contact for the dataverse. If you believe this was an error, please contact LibraScholar SWAT Team at support@librascholar.edu. To respond directly to the individual who sent the message, simply reply to this email.
[INFO] Tests run: 7, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.078 s - in FeedbackUtilTest
[INFO] Running ExternalToolTest
toJson
result: {"id":42,"displayName":"myDisplayName","description":"myDescription","type":"explore","toolUrl":"http://example.com","toolParameters":"{}"}
[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 s - in ExternalToolTest
[INFO] Running ExternalToolServiceBeanTest
tool: {"displayName":"AwesomeTool","toolUrl":"http://awesometool.com","toolParameters":{}}
tool: {"displayName":"AwesomeTool","description":"This tool is awesome.","type":"explore","toolUrl":"http://awesometool.com","toolParameters":{"queryParameters":[{"fileid":"{fileId}"},{"key":"{apiToken}"},{"mode":"mode1"}]}}
tool: {"displayName":"AwesomeTool","description":"This tool is awesome.","type":"explore","toolParameters":{}}
tool: {"displayName":"AwesomeTool","description":"This tool is awesome.","type":"noSuchType","toolUrl":"http://awesometool.com","toolParameters":{}}
exception: java.lang.IllegalArgumentException: Type must be one of these values: [explore, configure].
tool: {"displayName":"AwesomeTool","description":"This tool is awesome.","type":"explore","toolUrl":"http://awesometool.com","toolParameters":{"queryParameters":[{"key":"{apiToken}"}]}}
tool: {"displayName":"AwesomeTool","description":"This tool is awesome.","type":"explore","toolUrl":"http://awesometool.com","toolParameters":{"queryParameters":[{"fileid":"{fileId}"},{"key":"{apiToken}"}]}}
result: http://awesometool.com?fileid=42&key=7196b5ce-f200-4286-8809-03ffdbc255d7
tool: {"description":"This tool is awesome.","toolUrl":"http://awesometool.com","toolParameters":{}}
[INFO] Tests run: 10, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.036 s - in ExternalToolServiceBeanTest
[INFO] Running ExternalToolHandlerTest
result3: ?key1=42&key2=7196b5ce-f200-4286-8809-03ffdbc255d7
result4: ?key1=42
Exception caught: java.lang.IllegalArgumentException: Unknown reserved word: {junk}
[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.014 s - in ExternalToolHandlerTest
[INFO] Running BrandingUtilTest
testGetContactHeader
testWelcomeInAppNotification
message: Welcome to LibraScholar! Get started by adding or finding data. Have questions? Check out the <a href="http://guides.dataverse.org/en/4.3/user/index.html">User Guide</a>. Want to test out Dataverse features? Use our <a href="https://demo.dataverse.org">Demo Site</a>. Also, check for your welcome email to verify your address.
testEmailSubject
message: LibraScholar: Your account has been created
testGetSupportTeamName
testGetSupportEmailAddress
testWelcomeEmail
message: Welcome to LibraScholar! Get started by adding or finding data. Have questions? Check out the User Guide at http://guides.librascholar.edu/en/4.3/user or contact LibraScholar Support at support@librascholar.edu for assistance.
testGetInstallationBrandName
testEmailClosing
message: 

You may contact us for support at support@librascholar.edu.

Thank you,
LibraScholar Support Team
[INFO] Tests run: 8, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 s - in BrandingUtilTest
[INFO] Running DatasetTest
[INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 s - in DatasetTest
[INFO] Running PersistentIdentifierServiceBeanTest
[INFO] Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.14 s - in PersistentIdentifierServiceBeanTest
[INFO] Running GroupServiceBeanTest
[INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.018 s - in GroupServiceBeanTest
[INFO] Running GroupUtilTest
[INFO] Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 s - in GroupUtilTest
[INFO] Running ExplicitGroupTest
[INFO] Tests run: 7, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 s - in ExplicitGroupTest
[INFO] Running IpGroupTest
[INFO] Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 s - in IpGroupTest
[INFO] Running IPv6AddressTest
adr = 0:0:0:0:0:0:0:7334
adr = 0:0:0:0:0:0:0:0
[INFO] Tests run: 16, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.011 s - in IPv6AddressTest
[INFO] Running IpAddressTest
[INFO] Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 s - in IpAddressTest
[INFO] Running IPv4AddressTest
[INFO] Tests run: 8, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 s - in IPv4AddressTest
[INFO] Running IpAddressRangeTest
[INFO] Tests run: 7, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 s - in IpAddressRangeTest
[INFO] Running AuthenticatedUserDisplayInfoTest
[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 s - in AuthenticatedUserDisplayInfoTest
[INFO] Running AuthUtilTest
isNonLocalLoginEnabled
[INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 s - in AuthUtilTest
[INFO] Running AuthenticationProviderTest
getFriendlyName
[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 s - in AuthenticationProviderTest
[INFO] Running AuthenticatedUserTest
getPosition
setSuperuser
setAffiliation
getEmail
setLastApiUseTime
setFirstName
getLastLoginTime
getSortByString
getId
setId
toString
getAuthenticatedUserLookup
getLastApiUseTime
isAuthenticated
getName
setAuthenticatedUserLookup
getShibIdentityProvider
getDisplayInfo
setLastName
setUserIdentifier
getLastName
getIdentifier for testUser
getAffiliation
setCreatedTime
isSuperuser
setLastApiUseToCurrentTime
setEmailConfirmed
hashCode
getUserIdentifier
setLastLogin
getFirstName
getEmailConfirmed
setShibIdentityProvider
applyDisplayInfo
getCreatedTime
setPosition
setEmail
[INFO] Tests run: 37, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.002 s - in AuthenticatedUserTest
[INFO] Running BuiltinAuthenticationProviderTest
[INFO] Tests run: 9, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 2.037 s - in BuiltinAuthenticationProviderTest
[INFO] Running OAuth2AuthenticationProviderFactoryTest
[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 s - in OAuth2AuthenticationProviderFactoryTest
[INFO] Running GoogleOAuth2APTest
[INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 s - in GoogleOAuth2APTest
[INFO] Running OrcidOAuth2APTest
[INFO] Tests run: 7, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.385 s - in OrcidOAuth2APTest
[INFO] Running GitHubOAuth2APTest
[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.003 s - in GitHubOAuth2APTest
[INFO] Running ShibUtilTest
[INFO] Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.194 s - in ShibUtilTest
[INFO] Running IndexUtilTest
[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 s - in IndexUtilTest
[INFO] Running SolrSearchResultTest
actual: {"type":"dataverse"}
expect: {"type":"dataverse"}
[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.007 s - in SolrSearchResultTest
[INFO] Running SearchUtilTest
sanitizeQuery
SolrInputDocument(fields: [id=dataset_12345_permission, definitionPointDocId=dataset_12345, definitionPointDvObjectId=12345, discoverableBy=[group_public]])
[INFO] Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.006 s - in SearchUtilTest
[INFO] Running SearchFilesServiceBeanTest
[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 s - in SearchFilesServiceBeanTest
[INFO] Running RepositoryStorageAbstractionLayerUtilTest
getRsalSites
Harvard Medical School, USA
getVerifyDataCommand
getLocalDataAccessDirectory
getRsalSites
[{"fqdn":"dv.sbgrid.org","name":"Harvard Medical School, USA"}]
[INFO] Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.005 s - in RepositoryStorageAbstractionLayerUtilTest
[INFO] Running DataFileServiceBeanTest
[INFO] Tests run: 13, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 s - in DataFileServiceBeanTest
[INFO] Running XmlPrinterTest
[INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 s - in XmlPrinterTest
[INFO] Running MarkupCheckerTest
sanitizeBasicHTML
--------------------------------------
safeStr: <script>alert('hi')</script>
sanitized: 
--------------------------------------
safeStr: <map name="rtdcCO"></map>
sanitized: <map name="rtdcCO"></map>
--------------------------------------
safeStr: <area shape="rect" coords="42,437,105,450" href="/dvn/dv/rtdc/faces/study/StudyPage.xhtml?globalId=hdl:10904/10006" title="Galactic Center (DHT02)" alt="Galactic Center (DHT02)">
sanitized: <area shape="rect" coords="42,437,105,450" href="/dvn/dv/rtdc/faces/study/StudyPage.xhtml?globalId=hdl:10904/10006" title="Galactic Center (DHT02)" alt="Galactic Center (DHT02)">
--------------------------------------
safeStr: <map name="rtdcCO"><area shape="rect" coords="42,437,105,450" href="/dvn/dv/rtdc/faces/study/StudyPage.xhtml?globalId=hdl:10904/10006" title="Galactic Center (DHT02)" alt="Galactic Center (DHT02)"></map>
sanitized: <map name="rtdcCO"><area shape="rect" coords="42,437,105,450" href="/dvn/dv/rtdc/faces/study/StudyPage.xhtml?globalId=hdl:10904/10006" title="Galactic Center (DHT02)" alt="Galactic Center (DHT02)"></map>
--------------------------------------
safeStr: <p>hello&lt;/</p>
sanitized: <p>hello&lt;/</p>
--------------------------------------
safeStr: <h1>hello</h1>
sanitized: <h1>hello</h1>
--------------------------------------
safeStr: the 
<a href="http://dataverse.org" rel="nofollow" target="_blank">Dataverse project</a> in a new window
sanitized: the 
<a href="http://dataverse.org" rel="nofollow" target="_blank">Dataverse project</a> in a new window
--------------------------------------
safeStr: the 
<a href="http://dataverse.org" rel="nofollow" target="_blank">Dataverse project</a> in a new window
sanitized: the 
<a href="http://dataverse.org" rel="nofollow" target="_blank">Dataverse project</a> in a new window
stripAllTags
[INFO] Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.017 s - in MarkupCheckerTest
[INFO] Running FileUtilTest
[INFO] Tests run: 15, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.158 s - in FileUtilTest
[INFO] Running JsonUtilTest
[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 s - in JsonUtilTest
[INFO] Running JsonParserTest
{"alias":"test-ip-group","identifier":"&ip/test-ip-group","id":42,"name":"Test-ip-group","description":"Ip group description","addresses":["fe80:0:0:0:22c9:d0ff:fe48:ce61"]}
json = {"typeName":"coordinate","multiple":true,"typeClass":"compound","value":[{"lat":{"typeName":"lat","multiple":false,"typeClass":"primitive","value":"0"},"lon":{"typeName":"lon","multiple":false,"typeClass":"primitive","value":"3"}},{"lat":{"typeName":"lat","multiple":false,"typeClass":"primitive","value":"10"},"lon":{"typeName":"lon","multiple":false,"typeClass":"primitive","value":"13"}},{"lat":{"typeName":"lat","multiple":false,"typeClass":"primitive","value":"20"},"lon":{"typeName":"lon","multiple":false,"typeClass":"primitive","value":"23"}},{"lat":{"typeName":"lat","multiple":false,"typeClass":"primitive","value":"30"},"lon":{"typeName":"lon","multiple":false,"typeClass":"primitive","value":"33"}},{"lat":{"typeName":"lat","multiple":false,"typeClass":"primitive","value":"40"},"lon":{"typeName":"lon","multiple":false,"typeClass":"primitive","value":"43"}}]}
{"alias":"test-ip-group","identifier":"&ip/test-ip-group","id":42,"name":"Test-ip-group","description":"Ip group description","addresses":["1.1.1.1"]}
fileMetadatas: [edu.harvard.iq.dvn.core.study.FileMetadata[id=null], edu.harvard.iq.dvn.core.study.FileMetadata[id=null]]
true
{"alias":"test-ip-group","identifier":"&ip/test-ip-group","id":42,"name":"Test-ip-group","description":"Ip group description","addresses":["1.1.1.1","1:2:3:0:0:0:4:5"],"ranges":[["1:2:3:0:0:0:3:ff","1:2:3:0:0:0:3:5"],["1.2.1.1","1.2.1.10"]]}
true
[INFO] Tests run: 20, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.087 s - in JsonParserTest
[INFO] Running JsonPrinterTest
json: {
  "fields": [
    {
      "typeName": "datasetContact",
      "multiple": true,
      "typeClass": "compound",
      "value": [
        {
          "datasetContactName": {
            "typeName": "datasetContactName",
            "multiple": false,
            "typeClass": "primitive",
            "value": "Foo Bar"
          },
          "datasetContactAffiliation": {
            "typeName": "datasetContactAffiliation",
            "multiple": false,
            "typeClass": "primitive",
            "value": "Bar University"
          }
        }
      ]
    }
  ]
}
byBlocks: {
  "citation": {
    "fields": [
      {
        "typeName": "datasetContact",
        "multiple": true,
        "typeClass": "compound",
        "value": [
          {
            "datasetContactName": {
              "typeName": "datasetContactName",
              "multiple": false,
              "typeClass": "primitive",
              "value": "Foo Bar"
            },
            "datasetContactAffiliation": {
              "typeName": "datasetContactAffiliation",
              "multiple": false,
              "typeClass": "primitive",
              "value": "Bar University"
            }
          }
        ]
      }
    ]
  }
}
json: {"description":"","label":"","restricted":false,"categories":["Data"],"dataFile":{"persistentId":"doi:10.5072/FK2/ABC123","pidURL":"https://doi.org/10.5072/FK2/ABC123","filename":"","filesize":-1,"originalFormatLabel":"UNKNOWN","rootDataFileId":-1,"tabularTags":["Survey"]}}
json: {
  "fields": [
    {
      "typeName": "datasetContact",
      "multiple": true,
      "typeClass": "compound",
      "value": [
        {
          "datasetContactEmail": {
            "typeName": "datasetContactEmail",
            "multiple": false,
            "typeClass": "primitive",
            "value": "foo@bar.com"
          },
          "datasetContactName": {
            "typeName": "datasetContactName",
            "multiple": false,
            "typeClass": "primitive",
            "value": "Foo Bar"
          },
          "datasetContactAffiliation": {
            "typeName": "datasetContactAffiliation",
            "multiple": false,
            "typeClass": "primitive",
            "value": "Bar University"
          }
        }
      ]
    }
  ]
}
byBlocks: {
  "citation": {
    "fields": [
      {
        "typeName": "datasetContact",
        "multiple": true,
        "typeClass": "compound",
        "value": [
          {
            "datasetContactEmail": {
              "typeName": "datasetContactEmail",
              "multiple": false,
              "typeClass": "primitive",
              "value": "foo@bar.com"
            },
            "datasetContactName": {
              "typeName": "datasetContactName",
              "multiple": false,
              "typeClass": "primitive",
              "value": "Foo Bar"
            },
            "datasetContactAffiliation": {
              "typeName": "datasetContactAffiliation",
              "multiple": false,
              "typeClass": "primitive",
              "value": "Bar University"
            }
          }
        ]
      }
    ]
  }
}
[INFO] Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.027 s - in JsonPrinterTest
[INFO] Running DatasetVersionDTOTest
[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.013 s - in DatasetVersionDTOTest
[INFO] Running BriefJsonPrinterTest
[INFO] Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 s - in BriefJsonPrinterTest
[INFO] Running FileSortFieldAndOrderTest
[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 s - in FileSortFieldAndOrderTest
[INFO] Running LruCacheTest
[INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 s - in LruCacheTest
[INFO] Running JsfHelperTest
enumValue
[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 s - in JsfHelperTest
[INFO] Running ShapefileHandlerTest
------------------------------------------------------------
(1) testCreateZippedNonShapefile
------------------------------------------------------------
------------------------------------------------------------
/tmp/junit7583234817508233458
------------------------------------------------------------
fname: /tmp/junit7583234817508233458/not-quite-a-shape.zip
Passed!
------------------------------------------------------------
(2) testZippedTwoShapefiles
------------------------------------------------------------
-------------------------------
Hash: file base names + extensions
-------------------------------

Key: [shp_dictionary] Ext List: [xls]
 >>>> Not a shapefile

Key: [notes] Ext List: [__PLACEHOLDER-FOR-BLANK-EXTENSION__]
 >>>> Not a shapefile

Key: [shape1] Ext List: [shp, shx, dbf, prj, fbn, fbx]
 >>>> YES, This is a shapefile!

Key: [shape2] Ext List: [shp, shx, dbf, prj, txt, pdf, __PLACEHOLDER-FOR-BLANK-EXTENSION__]
 >>>> YES, This is a shapefile!

Key: [README] Ext List: [MD]
 >>>> Not a shapefile
------------------------------------------------------------
/tmp/junit97180670440451802
------------------------------------------------------------
fname: /tmp/junit97180670440451802/two-shapes.zip
Creating folder: scratch-for-unzip-12345

(1) Basename: shp_dictionary
Extensions: [xls]

(2) Basename: notes
Extensions: [__PLACEHOLDER-FOR-BLANK-EXTENSION__]

(3) Basename: shape1
Extensions: [shp, shx, dbf, prj, fbn, fbx]

(4) Basename: shape2
Extensions: [shp, shx, dbf, prj, txt, pdf, __PLACEHOLDER-FOR-BLANK-EXTENSION__]

(5) Basename: README
Extensions: [MD]
rezipped_filenames: [shape2.zip, shape2.txt, shape1.zip, shp_dictionary.xls, shape2.pdf, notes, shape2, README.MD]
Passed!
------------------------------------------------------------
(3) testZippedShapefileWithExtraFiles
------------------------------------------------------------
Creating folder: scratch-for-unzip-12345

(1) Basename: shape1
Extensions: [shp, shx, dbf, prj, pdf, cpg, shp.xml]

(2) Basename: README
Extensions: [md]

(3) Basename: shape_notes
Extensions: [txt]
rezipped_filenames: [shape1.zip, shape1.pdf, shape_notes.txt, README.md]
Passed!
[INFO] Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.044 s - in ShapefileHandlerTest
[INFO] Running BundleUtilTest
[INFO] Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 s - in BundleUtilTest
[INFO] Running MailUtilTest
[INFO] Tests run: 18, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 s - in MailUtilTest
[INFO] Running StringUtilTest
[INFO] Tests run: 7, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.003 s - in StringUtilTest
[INFO] Running BitSetTest
[INFO] Tests run: 9, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 s - in BitSetTest
[INFO] Running DatasetAuthorTest
[INFO] Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 s - in DatasetAuthorTest
[INFO] Running DatasetFieldValidatorTest
isValid
[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 s - in DatasetFieldValidatorTest
[INFO] Running MetricsUtilTest

[
    {
        "category":"Research Project",
        "count":791
    },
    {
        "category":"Researcher",
        "count":745
    },
    {
        "category":"Uncategorized",
        "count":565
    },
    {
        "category":"Organization or Institution",
        "count":250
    },
    {
        "category":"Journal",
        "count":106
    },
    {
        "category":"Research Group",
        "count":106
    },
    {
        "category":"Teaching Course",
        "count":20
    },
    {
        "category":"Laboratory",
        "count":17
    },
    {
        "category":"Department",
        "count":7
    }
]
testStringToJsonObjectBuilder

{
    "Test":"result"
}

{
    "Test":"result"
}

{
    "count":42
}
testStringToJsonArrayBuilder

[
    {
        "subject":"Social Sciences",
        "count":24955
    }
]

[
    {
        "subject":"Social Sciences",
        "count":24955
    }
]

[
    {
        "subject":"Social Sciences",
        "count":24955
    },
    {
        "subject":"Medicine, Health and Life Sciences",
        "count":2262
    },
    {
        "subject":"Earth and Environmental Sciences",
        "count":1631
    },
    {
        "subject":"Agricultural Sciences",
        "count":1187
    },
    {
        "subject":"Other",
        "count":980
    },
    {
        "subject":"Computer and Information Science",
        "count":888
    },
    {
        "subject":"Arts and Humanities",
        "count":832
    },
    {
        "subject":"Astronomy and Astrophysics",
        "count":353
    },
    {
        "subject":"Business and Management",
        "count":346
    },
    {
        "subject":"Law",
        "count":220
    },
    {
        "subject":"Engineering",
        "count":203
    },
    {
        "subject":"Mathematical Sciences",
        "count":123
    },
    {
        "subject":"Chemistry",
        "count":116
    },
    {
        "subject":"Physics",
        "count":98
    }
]
[INFO] Tests run: 8, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.022 s - in MetricsUtilTest
[INFO] Running DatasetVersionTest
jsonLd: {
  "@context": "http://schema.org",
  "@type": "Dataset",
  "@id": "https://doi.org/10.5072/FK2/LK0D1H",
  "identifier": "https://doi.org/10.5072/FK2/LK0D1H",
  "url": "https://doi.org/10.5072/FK2/LK0D1H",
  "name": "",
  "creator": [],
  "author": [],
  "datePublished": "1955-11-05",
  "dateModified": "1955-11-05",
  "version": "1",
  "description": [],
  "keywords": [],
  "schemaVersion": "https://schema.org/version/3.3",
  "includedInDataCatalog": {
    "@type": "DataCatalog",
    "name": "LibraScholar",
    "url": "https://librascholar.org"
  },
  "provider": {
    "@type": "Organization",
    "name": "LibraScholar"
  }
}
[INFO] Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 s - in DatasetVersionTest
[INFO] Running DataverseUtilTest
getSuggestedDataverseNameOnCreate
[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 s - in DataverseUtilTest
[INFO] 
[INFO] Results:
[INFO] 
[WARNING] Tests run: 558, Failures: 0, Errors: 0, Skipped: 4
[INFO] 
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 40.809 s
[INFO] Finished at: 2018-10-23T20:43:23+02:00
[INFO] Final Memory: 62M/1286M
[INFO] ------------------------------------------------------------------------
