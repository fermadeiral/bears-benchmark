[INFO] Scanning for projects...
[INFO] ------------------------------------------------------------------------
[INFO] Detecting the operating system and CPU architecture
[INFO] ------------------------------------------------------------------------
[INFO] os.detected.name: linux
[INFO] os.detected.arch: x86_64
[INFO] os.detected.release: debian
[INFO] os.detected.release.version: 8
[INFO] os.detected.release.like.debian: true
[INFO] os.detected.classifier: linux-x86_64
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building vertx-consul-client 3.6.0-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ vertx-consul-client ---
[INFO] Skipping Rule Enforcement.
[INFO] 
[INFO] --- maven-processor-plugin:3.2.0:process (generate-sources) @ vertx-consul-client ---
[WARNING] diagnostic: warning: The following options were not recognized by any processor: '[maven.artifactId, maven.version, codegen.output.data_object_converters, maven.groupId]'
[INFO] 
[INFO] --- build-helper-maven-plugin:3.0.0:add-source (add-source) @ vertx-consul-client ---
[INFO] Source directory: /root/workspace/vert-x3/vertx-consul-client/438227467/src/main/generated added.
[INFO] 
[INFO] --- maven-resources-plugin:2.7:resources (default-resources) @ vertx-consul-client ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /root/workspace/vert-x3/vertx-consul-client/438227467/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.7.0:compile (default-compile) @ vertx-consul-client ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 102 source files to /root/workspace/vert-x3/vertx-consul-client/438227467/target/classes
[INFO] /root/workspace/vert-x3/vertx-consul-client/438227467/src/main/generated/io/vertx/ext/consul/ServiceOptionsConverter.java: Some input files use unchecked or unsafe operations.
[INFO] /root/workspace/vert-x3/vertx-consul-client/438227467/src/main/generated/io/vertx/ext/consul/ServiceOptionsConverter.java: Recompile with -Xlint:unchecked for details.
[INFO] 
[INFO] --- bnd-maven-plugin:3.2.0:bnd-process (default-bnd-process) @ vertx-consul-client ---
[INFO] 
[INFO] --- protobuf-maven-plugin:0.5.0:test-compile (test-compile) @ vertx-consul-client ---
[INFO] Compiling 1 proto file(s) to /root/workspace/vert-x3/vertx-consul-client/438227467/src/test/java
[INFO] 
[INFO] --- protobuf-maven-plugin:0.5.0:test-compile-custom (test-compile) @ vertx-consul-client ---
[INFO] Compiling 1 proto file(s) to /root/workspace/vert-x3/vertx-consul-client/438227467/src/test/java
[INFO] 
[INFO] --- maven-resources-plugin:2.7:testResources (default-testResources) @ vertx-consul-client ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 7 resources
[INFO] Copying 1 resource
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.7.0:testCompile (default-testCompile) @ vertx-consul-client ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 35 source files to /root/workspace/vert-x3/vertx-consul-client/438227467/target/test-classes
[INFO] 
[INFO] --- maven-surefire-plugin:2.18.1:test (default-test) @ vertx-consul-client ---
[INFO] Surefire report directory: /root/workspace/vert-x3/vertx-consul-client/438227467/target/surefire-reports

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running io.vertx.ext.consul.common.StateConsumerTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.804 sec - in io.vertx.ext.consul.common.StateConsumerTest
Running io.vertx.ext.consul.AggregateStatusTest
Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.019 sec - in io.vertx.ext.consul.AggregateStatusTest
Running io.vertx.ext.consul.OptionsTest
Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.055 sec - in io.vertx.ext.consul.OptionsTest
Running io.vertx.ext.consul.CopyTest
Tests run: 19, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.47 sec - in io.vertx.ext.consul.CopyTest
Running io.vertx.ext.consul.ConsulClientTest
==> Starting Consul agent...
==> Consul agent running!
           Version: 'v1.1.0'
           Node ID: '6864a69d-8691-7526-73a1-88977be59efa'
         Node name: 'node-d34a2f069b141e5a'
        Datacenter: 'dc-2006025809' (Segment: '<all>')
            Server: true (Bootstrap: false)
SUREFIRE-859:        Client Addr: [127.0.0.1] (HTTP: 39813, HTTPS: 41519, DNS: 45679)
SUREFIRE-859:       Cluster Addr: 127.0.0.1 (LAN: 36593, WAN: 39143)
SUREFIRE-859:            Encrypt: Gossip: false, TLS-Outgoing: false, TLS-Incoming: false
==> Log data will now stream in as it occurs:
>>>>>>> wait for new node
>>>>>>> new node is still not ready
==> Starting Consul agent...
==> Joining cluster...
    Join completed. Synced with 1 initial agents
==> Consul agent running!
           Version: 'v1.1.0'
           Node ID: '9a57ea8b-5705-0def-fe3b-7db3b6cd112c'
         Node name: 'attached_node'
        Datacenter: 'dc-2006025809' (Segment: '<all>')
            Server: true (Bootstrap: false)
SUREFIRE-859:        Client Addr: [127.0.0.1] (HTTP: 38659, HTTPS: 46329, DNS: 36915)
SUREFIRE-859:       Cluster Addr: 127.0.0.1 (LAN: 35343, WAN: 43077)
SUREFIRE-859:            Encrypt: Gossip: false, TLS-Outgoing: false, TLS-Incoming: false
==> Log data will now stream in as it occurs:
>>>>>>> new node event received
2018/10/18 04:10:57 [DEBUG] raft-net: 127.0.0.1:34339 accepted connection from: 127.0.0.1:57237
2018/10/18 04:10:57 [DEBUG] raft-net: 127.0.0.1:34339 accepted connection from: 127.0.0.1:41407
>>>>>>> new node attached
>>>>>>> wait for new node detaching
2018/10/18 04:11:01 [ERR] raft-net: Failed to flush response: write tcp 127.0.0.1:34339->127.0.0.1:57237: write: broken pipe
>>>>>>> new node detached
==> Starting Consul agent...
==> Joining cluster...
    Join completed. Synced with 1 initial agents
==> Consul agent running!
           Version: 'v1.1.0'
           Node ID: 'abda6cd0-038a-890f-b244-5c7380fc51e7'
         Node name: 'new_node'
        Datacenter: 'dc-2006025809' (Segment: '<all>')
            Server: true (Bootstrap: false)
SUREFIRE-859:        Client Addr: [127.0.0.1] (HTTP: 37439, HTTPS: 38307, DNS: 34609)
SUREFIRE-859:       Cluster Addr: 127.0.0.1 (LAN: 45989, WAN: 45221)
SUREFIRE-859:            Encrypt: Gossip: false, TLS-Outgoing: false, TLS-Incoming: false
==> Log data will now stream in as it occurs:
2018/10/18 04:11:39 [DEBUG] raft-net: 127.0.0.1:44561 accepted connection from: 127.0.0.1:46465
2018/10/18 04:11:39 [DEBUG] raft-net: 127.0.0.1:44561 accepted connection from: 127.0.0.1:33719
... rounds left: 9
2018/10/18 04:12:12 [ERR] raft-net: Failed to flush response: write tcp 127.0.0.1:44561->127.0.0.1:46465: write: broken pipe
SUREFIRE-859:     2018/10/18 04:12:21 [ERR] http: Request PUT /v1/kv/foo%2Fbar1?dc=dc-2006025809, error: Permission denied from=127.0.0.1:38510
SUREFIRE-859:     2018/10/18 04:12:23 [ERR] http: Request DELETE /v1/kv/unknown?dc=dc-2006025809, error: Permission denied from=127.0.0.1:38524
--- {"Node":"node-d34a2f069b141e5a","Address":"127.0.0.1","ServiceID":"consul","ServiceName":"consul","ServiceTags":[],"ServiceAddress":"","ServicePort":33705}
--- {"Node":"node-d34a2f069b141e5a","Address":"127.0.0.1","ServiceID":"id1","ServiceName":"service1","ServiceTags":[],"ServiceAddress":""}
-+- {"Node":"node-d34a2f069b141e5a","Address":"127.0.0.1","ServiceID":"consul","ServiceName":"consul","ServiceTags":[],"ServiceAddress":"","ServicePort":33705}
-+- {"Node":"node-d34a2f069b141e5a","Address":"127.0.0.1","ServiceID":"id1","ServiceName":"service1","ServiceTags":[],"ServiceAddress":""}
-+- {"Node":"node-d34a2f069b141e5a","Address":"127.0.0.1","ServiceID":"id2","ServiceName":"service2","ServiceTags":[],"ServiceAddress":""}
--- {"ServiceName":"consul","ServiceTags":[]}
--- {"ServiceName":"service1","ServiceTags":[]}
-+- {"ServiceName":"consul","ServiceTags":[]}
-+- {"ServiceName":"service1","ServiceTags":[]}
-+- {"ServiceName":"service2","ServiceTags":[]}
SUREFIRE-859:     2018/10/18 04:15:14 [ERR] http: Request PUT /v1/session/create?dc=dc-2006025809, error: Missing node registration from=127.0.0.1:38692
9 ms: await 'RFBRQNWPSD'
22 ms: consume 'RFBRQNWPSD'
25 ms: await 'QMRCUWLSJQ/RFBRQNWPSD'
25 ms: consume 'QMRCUWLSJQ/RFBRQNWPSD'
29 ms: await 'TMHLLHYUIR'
31 ms: consume 'TMHLLHYUIR'
2 ms: await 'TMHLLHYUIR'
6 ms: consume 'TMHLLHYUIR'
11 ms: await 'LOBYDBUCFH'
1012 ms: consume 'LOBYDBUCFH'
1016 ms: consume 'IUOYJGBCDG'
1016 ms: await 'IUOYJGBCDG'
1018 ms: consume 'TMHLLHYUIR'
1018 ms: await 'TMHLLHYUIR'
3 ms: await any
7 ms: consume '7'
7 ms: await any
1014 ms: consume '1014'
1014 ms: await any
5020 ms: consume '5020'
5020 ms: await any
14031 ms: consume '14031'
14031 ms: await any
30048 ms: consume '30048'
zero: -5
3 ms: await ''
11 ms: consume ''
==> Starting Consul agent...
==> Joining cluster...
    Join completed. Synced with 1 initial agents
==> Consul agent running!
           Version: 'v1.1.0'
           Node ID: '517153b4-5c6d-ac3a-8c39-6b5b8fa04abd'
         Node name: 'ERNOYWBDYB'
        Datacenter: 'dc-2006025809' (Segment: '<all>')
            Server: true (Bootstrap: false)
SUREFIRE-859:        Client Addr: [127.0.0.1] (HTTP: 40547, HTTPS: 38141, DNS: 42017)
SUREFIRE-859:       Cluster Addr: 127.0.0.1 (LAN: 44721, WAN: 37541)
SUREFIRE-859:            Encrypt: Gossip: false, TLS-Outgoing: false, TLS-Incoming: false
==> Log data will now stream in as it occurs:
161 ms: consume 'ERNOYWBDYB'
2018/10/18 04:15:47 [DEBUG] raft-net: 127.0.0.1:32983 accepted connection from: 127.0.0.1:58793
2018/10/18 04:15:47 [DEBUG] raft-net: 127.0.0.1:32983 accepted connection from: 127.0.0.1:43465
217 ms: consume 'ERNOYWBDYB'
2018/10/18 04:15:51 [ERR] raft-net: Failed to flush response: write tcp 127.0.0.1:32983->127.0.0.1:58793: write: broken pipe
3871 ms: consume ''
3901 ms: await 'ERNOYWBDYB'
3901 ms: await ''
3902 ms: await ''
3 ms: await ''
12 ms: consume ''
108 ms: await 'GPLQQKTWQF/PASSING'
112 ms: consume 'GPLQQKTWQF/PASSING'
112 ms: await 'GPLQQKTWQF/CRITICAL'
4110 ms: consume 'GPLQQKTWQF/CRITICAL'
2 ms: await ''
10 ms: consume ''
16 ms: consume 'XAOJJKQKRV'
22 ms: await 'XAOJJKQKRV'
22 ms: await 'XAOJJKQKRV,PAUCHOEHSR'
22 ms: consume 'XAOJJKQKRV,PAUCHOEHSR'
3 ms: await ''
10 ms: consume ''
16 ms: await 'FOXSNIHRVA'
17 ms: consume 'FOXSNIHRVA'
7 ms: await 'YBBXAXXNFF'
16 ms: consume 'YBBXAXXNFF'
22 ms: await 'EOLRGXMCVJ'
23 ms: consume 'EOLRGXMCVJ'
25 ms: consume 'TMHLLHYUIR'
26 ms: await 'TMHLLHYUIR'
Tests run: 80, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 310.535 sec - in io.vertx.ext.consul.ConsulClientTest
    2018/10/18 04:16:00 [ERR] autopilot: Error updating cluster health: error getting server raft protocol versions: No servers found
    2018/10/18 04:16:02 [ERR] autopilot: Error updating cluster health: error getting server raft protocol versions: No servers found
    2018/10/18 04:16:03 [ERR] agent: Coordinate update error: No cluster leader
    2018/10/18 04:16:04 [ERR] autopilot: Error updating cluster health: error getting server raft protocol versions: No servers found
    2018/10/18 04:16:06 [ERR] autopilot: Error updating cluster health: error getting server raft protocol versions: No servers found

Results :

Tests run: 112, Failures: 0, Errors: 0, Skipped: 0

[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 05:38 min
[INFO] Finished at: 2018-10-18T06:16:09+02:00
[INFO] Final Memory: 38M/923M
[INFO] ------------------------------------------------------------------------
